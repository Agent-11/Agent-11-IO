import{S as o,P as n,M as e,W as t,G as i,a,B as s,A as r}from"./vendor.426cad3a.js";const d=["maze","../levels/maze/model/model.glb","mus_bg",[0,0,0,0]],l=["redroom","../levels/redroom/model/model.glb","mus_none",[0,0,0,0]];let c=function(){switch(prompt("Type level name\nmaze").toLowerCase()){case"maze":return d;case"redroom":return l;default:return alert("Unknown level, going to maze."),d}}();const u=o=>{switch(o){case"lvlName":return c[0];case"lvlDir":return c[1];case"lvlMus":return c[2];case"pos":return c[3];default:throw"Unimplemented data "+o}},m=new o,w=new n(60,320/224);let p=new e({color:2392064});if(m.add(w),"mus_none"==u("lvlMus"))console.log("Audio set to none");else{let o=new Audio("../audio/"+u("lvlMus")+".mp3");o.addEventListener("ended",(function(){this.currentTime=0,this.play()}),!1),o.play()}const v=new t({canvas:document.querySelector("#bg")});v.setPixelRatio(window.devicePixelRatio),v.setSize(320,224);(new i).load(u("lvlDir"),(function(o){m.add(o.scene)}));const y=new a(new s(8,12,8),p);m.add(y);const f=new r(16777215,1.1);m.add(f);kd.W.down((function(){var o;o=.5,y.position.x+=-Math.sin(y.rotation.y)*o,y.position.z+=-Math.cos(y.rotation.y)*o})),kd.A.down((function(){var o;o=.035,y.rotation.y+=o})),kd.S.down((function(){var o;o=.5,y.position.x-=-Math.sin(y.rotation.y)*o,y.position.z-=-Math.cos(y.rotation.y)*o})),kd.D.down((function(){var o;o=.035,y.rotation.y-=o})),kd.run((function(){kd.tick()})),function o(){w.position.x=y.position.x,w.position.y=y.position.y,w.position.z=y.position.z,w.rotation.y=y.rotation.y,requestAnimationFrame(o),v.render(m,w)}();
